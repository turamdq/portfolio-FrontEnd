<div class="experiencia">
  <div>
    <h2 class="titulos-secciones">Experiencia</h2>
    <div class="btn-agregar">
      <button *ngIf="isLogged" type="button" class="btn btn-primary btn-lg" data-bs-toggle="modal"
        data-bs-target="#añadirExperiencia">Añadir</button>
    </div>
  </div>

  <ol reversed class="list-item">
    <li *ngFor="let experience of experienceList">
      <div class="seccion-box">
        <div>
          <img [src]="experience.image" alt="">
        </div>
        <div class="inbox">
          <h4>{{experience.name}} / {{experience.startDate}} - {{experience.endDate}}</h4>
          <h5>{{experience.position}}</h5>
          <p>{{experience.tasks}}</p>
        </div>
        <div class="botones">
          <button *ngIf="isLogged" class="btn btn-edicion" data-bs-toggle="modal" data-bs-target="#editarExperiencia"
            (click)="itemAModificar(experience)"><i class="fa-solid fa-pencil"></i></button>
          <button *ngIf="isLogged" class="btn btn-eliminar" data-bs-toggle="modal" data-bs-target="#eliminarExperiencia"
            (click)="itemAModificar(experience)"><i class="fa-solid fa-trash"></i></button>
        </div>
      </div>

      <!-- Modal de Bootstrap confirmacion de eliminacion-->

      <div class="modal fade" id="eliminarExperiencia" tabindex="-1" aria-labelledby="eliminarExperiencia" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-sm">
          <div class="modal-content">
            <div class="modal-body" style="text-align: center">
              <p><b>Esta seguro de eliminar este item ?</b></p>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
              <button type="button" class="btn btn-danger" data-bs-dismiss="modal"
                (click)="borrarItem()">Eliminar</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Modal de Bootstrap Edicion -->

      <div class="modal fade" id="editarExperiencia" tabindex="-1" aria-labelledby="editarExperiencia" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg">
          <div class="modal-content">
            <div class="modal-header bg-primary">
              <h5 class="modal-title text-white" id="editarExperiencia">Modificar Experiencia</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"
                (click)="descartarCambios()"></button>
            </div>
            <div class="modal-body">
              <label for="nombre" style="margin-bottom: 10px"><b>Empresa:</b></label>
              <input id="nombre" class="form-control" type="text" placeholder="Nombre de la Empresa"
                aria-label="default input example" style="margin-bottom: 30px" [(ngModel)]="name">


              <div class="row g-2">
                <div class="col-md">
                  <div class="form-floating">
                    <label for="periodo" style="margin-bottom: 10px"></label>
                    <input class="form-control" type="text" id="floatingInputGrid" aria-label="default input example"
                      style="margin-bottom: 30px" [(ngModel)]="startDate">
                    <label for="floatingInputGrid">Comienzo</label>
                  </div>
                </div>
                <div class="col-md">
                  <div class="form-floating">
                    <label for="periodo" style="margin-bottom: 10px"></label>
                    <input class="form-control" type="text" id="floatingInputGrid" aria-label="default input example"
                      style="margin-bottom: 30px" [(ngModel)]="endDate">
                    <label for="floatingSelectGrid">Fin</label>
                  </div>
                </div>
              </div>

              <label for="posicion" style="margin-bottom: 10px"><b>Posicion:</b></label>
              <input class="form-control" type="text" placeholder="Posicion/cargo" aria-label="default input example"
                style="margin-bottom: 30px" [(ngModel)]="position">
              <label for="tareas" style="margin-bottom: 10px"><b>Tareas realizadas:</b></label>
              <input class="form-control" type="text" placeholder="Tareas realizadas" aria-label="default input example"
                style="margin-bottom: 30px" [(ngModel)]="tasks">
              <label for="basic-url" class="form-label"></label>
              <div class="input-group mb-3">
                <span class="input-group-text" id="basic-addon3">URL de imagen</span>
                <input type="url" class="form-control" id="basic-url" aria-describedby="basic-addon3"
                  [(ngModel)]="image">
              </div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal"
                (click)="descartarCambios()">Cancelar</button>
              <button type="button" class="btn btn-primary" data-bs-dismiss="modal"
                (click)="guardarCambios()">Guardar</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Modal de Bootstrap Añadir -->

      <div class="modal fade" id="añadirExperiencia" tabindex="-1" aria-labelledby="añadirExperiencia" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg">
          <div class="modal-content">
            <div class="modal-header bg-primary">
              <h5 class="modal-title text-white" id="exampleModalLabel">Añadir Experiencia</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"
                (click)="descartarCambios()"></button>
            </div>
            <div class="modal-body">
              <label for="nombre" style="margin-bottom: 10px"><b>Empresa:</b></label>
              <input id="nombre" class="form-control" type="text" placeholder="Nombre de la Empresa"
                aria-label="default input example" style="margin-bottom: 30px" [(ngModel)]="name">

              <div class="row g-2">
                <div class="col-md">
                  <div class="form-floating">
                    <label for="periodo" style="margin-bottom: 10px"></label>
                    <input class="form-control" type="text" id="floatingInputGrid" aria-label="default input example"
                      style="margin-bottom: 30px" [(ngModel)]="startDate">
                    <label for="floatingInputGrid">Comienzo</label>
                  </div>
                </div>
                <div class="col-md">
                  <div class="form-floating">
                    <label for="periodo" style="margin-bottom: 10px"></label>
                    <input class="form-control" type="text" id="floatingInputGrid" aria-label="default input example"
                      style="margin-bottom: 30px" [(ngModel)]="endDate">
                    <label for="floatingSelectGrid">Fin</label>
                  </div>
                </div>
              </div>

              <label for="posicion" style="margin-bottom: 10px"><b>Posicion:</b></label>
              <input class="form-control" type="text" placeholder="Posicion/cargo" aria-label="default input example"
                style="margin-bottom: 30px" [(ngModel)]="position">
              <label for="tareas" style="margin-bottom: 10px"><b>Tareas realizadas:</b></label>
              <input class="form-control" type="text" placeholder="Tareas realizadas" aria-label="default input example"
                style="margin-bottom: 30px" [(ngModel)]="tasks">
              <label for="basic-url" class="form-label"></label>
              <div class="input-group mb-3">
                <span class="input-group-text" id="basic-addon3">URL de imagen</span>
                <input type="url" class="form-control" id="basic-url" aria-describedby="basic-addon3"
                  [(ngModel)]="image">
              </div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal"
                (click)="descartarCambios()">Cancelar</button>
              <button type="button" class="btn btn-primary" data-bs-dismiss="modal"
                (click)="agregarItem()">Guardar</button>
            </div>
          </div>
        </div>
      </div>
    </li>
  </ol>
</div>